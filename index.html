<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="format-detection" content="telephone=no">
  <link rel="icon" href="/favicon.ico">
  <title></title>
  <style>
    body {
      background: #f6d991
    }

    .container {
      display: none
    }

    .refresh {
      display: none
    }

    .initLoading {
      display: block;
      width: 100px;
      height: 100px;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 99;
    }
  </style>
  <script>(function (win, lib) { var doc = win.document; var docEl = doc.documentElement; var metaEl = doc.querySelector('meta[name="viewport"]'); var flexibleEl = doc.querySelector('meta[name="flexible"]'); var dpr = 0; var scale = 0; var tid; var flexible = lib.flexible || (lib.flexible = {}); if (metaEl) { console.warn("将根据已有的meta标签来设置缩放比例"); var match = metaEl.getAttribute("content").match(/initial\-scale=([\d\.]+)/); if (match) { scale = parseFloat(match[1]); dpr = parseInt(1 / scale) } } else { if (flexibleEl) { var content = flexibleEl.getAttribute("content"); if (content) { var initialDpr = content.match(/initial\-dpr=([\d\.]+)/); var maximumDpr = content.match(/maximum\-dpr=([\d\.]+)/); if (initialDpr) { dpr = parseFloat(initialDpr[1]); scale = parseFloat((1 / dpr).toFixed(2)) } if (maximumDpr) { dpr = parseFloat(maximumDpr[1]); scale = parseFloat((1 / dpr).toFixed(2)) } } } } if (!dpr && !scale) { var isAndroid = win.navigator.appVersion.match(/android/gi); var isIPhone = win.navigator.appVersion.match(/iphone/gi); var devicePixelRatio = win.devicePixelRatio; if (isIPhone) { if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) { dpr = 3 } else { if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)) { dpr = 2 } else { dpr = 1 } } } else { dpr = 1 } scale = 1 / dpr } docEl.setAttribute("data-dpr", dpr); if (!metaEl) { metaEl = doc.createElement("meta"); metaEl.setAttribute("name", "viewport"); metaEl.setAttribute("content", "initial-scale=" + scale + ", maximum-scale=" + scale + ", minimum-scale=" + scale + ", user-scalable=no, viewport-fit=cover"); if (docEl.firstElementChild) { docEl.firstElementChild.appendChild(metaEl) } else { var wrap = doc.createElement("div"); wrap.appendChild(metaEl); doc.write(wrap.innerHTML) } } function refreshRem() { var width = docEl.getBoundingClientRect().width; if (width / dpr > 640) { width = 640 * dpr } var rem = width / 10; docEl.style.fontSize = rem + "px"; flexible.rem = win.rem = rem } win.addEventListener("resize", function () { clearTimeout(tid); tid = setTimeout(refreshRem, 300) }, false); win.addEventListener("pageshow", function (e) { if (e.persisted) { clearTimeout(tid); tid = setTimeout(refreshRem, 300) } }, false); if (doc.readyState === "complete") { doc.body.style.fontSize = 12 * dpr + "px" } else { doc.addEventListener("DOMContentLoaded", function (e) { doc.body.style.fontSize = 12 * dpr + "px" }, false) } refreshRem(); flexible.dpr = win.dpr = dpr; flexible.refreshRem = refreshRem; flexible.rem2px = function (d) { var val = parseFloat(d) * this.rem; if (typeof d === "string" && d.match(/rem$/)) { val += "px" } return val }; flexible.px2rem = function (d) { var val = parseFloat(d) / this.rem; if (typeof d === "string" && d.match(/px$/)) { val += "rem" } return val } })(window, window["lib"] || (window["lib"] = {}));</script>
  <script>
    function addSheetFile(path) {
      var fileref = document.createElement("link")
      fileref.rel = "stylesheet";
      fileref.type = "text/css";
      fileref.href = path;
      var headobj = document.getElementsByTagName('head')[0];
      headobj.appendChild(fileref);
    }
   </script>
  <script>
    // 巴西 pt
    // 印度尼西亚 id
    // 菲律宾（英语）en
    // 泰国 th
    // 越南 vi
    var lang = window.navigator.language;
    var public_match = lang.match(/en|pt|th|vi|id/ig);
    var publick_link = public_match ? public_match[0] : "vi";
    addSheetFile('./' +  publick_link+'_igmonopoly/css/index.css');
  </script>
</head>

<body class="pt">
  <div class="container" style="display: block; opacity: 1;">
    <div id="db-content" style="padding-bottom: 91px;">
      <div class="banner"> </div>
      <div class="chess">
        <div class="chess-shadow"></div>
        <div class="chess-2"></div>
        <div class="chess-1"></div>
        <div class="chess-3"></div>
        <div class="chess-4"> </div>
        <div class="prize-1"> </div>
        <div class="prize-2"> </div>
        <div class="prize-3"> </div>
        <div class="prize-4"> </div>
        <div class="prize-5"> </div>
        <div class="prize-6"> </div>
        <div class="prize-7"> </div>
        <div class="arrow-1"></div>
        <div class="arrow-2"></div>
        <div class="smoke"></div>
        <div class="people" style="left: 57.5px; top: 295px;"></div>
      </div>
      <div class="boats">
        <div class="boat-1"></div>
        <div class="boat-2"></div>
        <div class="boat-3"></div>
        <div class="boat-4"></div>
      </div>
      <div class="steps-text"></div>
      <div class="dizuo">
        <div class="shaizi-bg">
          <div class="shaizi"></div>
        </div>
        <div class="start play_btn"></div>
        <div class="hand show"></div>
      </div>
    </div>
  </div>
  <script src="./js/jquery-3.4.1.min.js"></script>
  <script>
    var points = [
      {
        x:57.5,y:295
      },
      {
        x:20,y:275
      },
      {
        x:60,y:250
      },
      {
        x:20,y:220,reward:true
      },
      {
        x:60,y:200
      },
      {
        x:100,y:180
      },
      {
        x:60,y:150
      },
      {
        x:15,y:125,reward:true
      },
      {
        x:65,y:105
      },
      {
        x:100,y:85
      },
      {
        x:145,y:65,reward:true
      },
      {
        x:190,y:85
      },
      {
        x:230,y:105
      },
      {
        x:265,y:130,reward:true
      },
      {
        x:230,y:160
      },
      {
        x:270,y:180
      },
      {
        x:310,y:200
      },
      {
        x:270,y:230
      },
      {
        x:230,y:250
      },
      {
        x:180,y:270,reward:true
      },
      {
        x:140,y:300
      },
      {
        x:100,y:320,reward:true
      }
  ]
  </script>
  <script>
    $(function(){
      var index = 0;
      var scale = $(window).width() / 375;
      init()

      function init(){
        $('.people').css({
          top:points[0].y * scale + 'px',
          left:points[0].x * scale + 'px'
        })
      }

      function over(){
        $('.people').removeClass('shake');
        // 弹窗
      }

      function smoke(x,y){
        $('.smoke').addClass("show");
        $('.smoke').css({
           top:y * scale + 'px',
           left:x * scale + 'px'
        });
        setTimeout(() => {
          $('.smoke').removeClass("show");
        }, 600);
      }
      function move (count){
        for(let i=0;i<count;i++){
            setTimeout(function(){
              index =  (++index) % 22;
              $('.people').addClass('shake');
              $('.people').css({
                top:points[index].y * scale + 'px',
                left:points[index].x * scale + 'px'
              })
            },i * 300)
          }
      }

      $('.dizuo').click(function(){
        let random = Math.floor(Math.random()*6 +1);
        let className = "dian-" +random; 
        $('.shaizi ').addClass("shaizi-move");
       
        setTimeout(() => {
          $('.shaizi ').remove("shaizi-move");
          $('.shaizi ').addClass(className);
          move(random)
          setTimeout(function(){
            $('.shaizi')[0].classList = "shaizi";
            over()
            if(points[index].reward){
              console.log('中奖')
              smoke(points[index].x-50,points[index].y-50)
            }
          },300*random)
        },1000);
       
      })
    })
  </script>
</body>

</html>